<section class="section" th:fragment="page">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="card-title mb-0">Liste des Commandes</h4>
        </div>

        <div class="card-body">
            <div th:if="${#lists.isEmpty(commandes)}">
                <div class="text-center text-muted">
                    <i class="bi bi-inbox"></i> Aucune commande trouvée
                </div>
            </div>

            <div th:each="commande : ${commandes}" class="mb-3">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <div>
                            <strong th:text="${commande.strId}">CMD1</strong>
                            &nbsp;<small class="text-muted">(ID: <span
                                    th:text="${commande.idCommande}">1</span>)</small>
                            &nbsp;–&nbsp;
                            <span th:text="${commande.societe != null ? commande.societe.nom : ''}">Société</span>
                            <!-- <small class="text-muted ms-2"
                                th:text="${#dates.format(commande.creted,'yyyy-MM-dd HH:mm')}">2026-01-22</small> -->
                            <small class="text-muted ms-2"
                                th:text="${#temporals.format(commande.creted, 'yyyy-MM-dd HH:mm')}">
                            </small>

                            <div>
                                <span>Reste a payer </span>
                                <strong th:text="${#numbers.formatDecimal(commande.restePayer(), 0, 'COMMA', 2, 'POINT')} + ' Ar'">
                                    0,00 Ar
                                </strong>
                            </div>

                        </div>
                      
                        <div>
                            <a class="btn btn-sm btn-outline-secondary"
                                th:href="@{/paiement-commande/saisie(idCommande=${commande.idCommande})}">Payer</a>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</section>